<script>
(function(window, wrapperId) {
var document = window.document;
var element = Util.DOM.Element;
var wrapper = element(document.getElementById(wrapperId));

/* It seems to look cleaner with just the full calendar showing */

function onGoogleCalendarJSONLoad(json) {
	var events = json["feed"]["entry"];
	window.gevent = events[0];
	for(var i = 0, length = events.length; i < length; i++) {
		wrapper.child(element.pre().child([
			"Title: " + events[i]["title"]["$t"] + "\n",
			"Location: " + events[i]["gd$where"][0]["valueString"] + "\n",
			"From: " + new Date(events[i]["gd$when"][0]["startTime"]).toLocaleString() + "\n",
			"To: " + new Date(events[i]["gd$when"][0]["endTime"]).toLocaleString() + "\n",
			"Description: " + events[i]["content"]["$t"] + "\n\n"
		]));
	}
}

window.pushGoogleCalendarJSON = onGoogleCalendarJSONLoad;
})(window, "page-content");
</script>

<script src="//www.google.com/calendar/feeds/umassdssd@gmail.com/public/full?alt=json-in-script&callback=pushGoogleCalendarJSON&sortorder=descending"></script>
